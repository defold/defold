iOS Development
===============

This guide explains how to develop games on iOS devices in Defold.

Signing the Defold App
----------------------

Currently, at least one team member needs to run OS X and be a registered Apple Developer in order to sign the Defold App for the other team members.
This is required for the team members to be able to test the game on their iOS devices.
We will call this person the _signer_.
The signer needs to have a mobile provisioning file, issued by Apple.
This can be obtained from the link:https://developer.apple.com/devcenter/ios/index.action[iOS Dev Center].
The signer should then collect all the link:http://www.innerfence.com/howto/find-iphone-unique-device-identifier-udid[UDIDs] from the other members and add them to his/hers mobile provisioning file.

Below is a video that shows the steps needed to sign the app.

link:/youtube_embed/T_igYdHubqA["ios signing"]

The steps to take are:

. In the editor, go to *Project > Sign App...*
. Browse for your mobile provisioning file
. Select your code signing identity
. Push *Sign and upload*

((((
image::images/editor/sign.png["Signing the app", align="center"]
((((

The Defold app will now be uploaded to the project page in the Dashboard.
Each member should now:

. Browse to the Dashboard with their iOS device
. Open the project page from the list of projects
. Click the link *Install the Defold App*, which can be found below the *Members* section

Launching the Game
------------------

To launch the game on your iOS device, the Defold App and editor must be able to connect.
They currently need to be connected to the same subnet in your network.
A common case is to have a wifi-router which both your computer and device are connected to.

. Make sure the editor is up and running
. Launch the app on your device. While booting, the app will broadcast a signal about its existence on its subnet.
. Go to *Project > Targets* in the editor and select your device.
. Run the game in the editor: *Project > Build And Launch*.
  The screen on your iOS device will now turn white while your game is being streamed over the network.
. While the game is running, you can use link:/doc/reload[hot reloading] as usual on your device.

Handling Touch Input
--------------------

Currently, we only support a single touch.
This is simulated as the left mouse button, so handle touch input just like mouse input.
Read more about how input works in the link:/doc/input[input guide].

Troubleshooting
---------------

Unable to Download Application
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Make sure the signer has included your UDID in his/hers mobile provisioning file.

Your device does not appear in the Targets-menu
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Make sure that your device is on the same subnet as your computer.

. Open the *Project > Targets* menu in the editor and note the IP of the _Local_ target.
  The local target is your computer.
. In your iOS-device, open the *Settings* app and make sure *Wi-Fi* is turned on and connected to your network.
. Click the blue right-arrow next to your network to see stats about your connection.
  Note your IP Address.
. Make sure the IP address of your local target obtained from step 1. and the IP address of your device start with the same numbers.
  The last number should be different.
  If the first three are not the same, your computer and iOS device are connected to different subnets.
. Open the *Project > Targets* menu again to see if your device has appeared.

The game does not start with a message about mis-matching versions
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

This happens when you have upgraded the editor to the latest version.
Simply sign and download the app to your device again to fix it.
